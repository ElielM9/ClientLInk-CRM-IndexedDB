import{dataBase}from"../utils/variables.js";export function createDataBase(){const e=window.indexedDB.open("crm",1);e.onerror=function(){console.error("Error al crear la base de datos")},e.onsuccess=function(){dataBase.value=e.result,console.log("Base de datos creada correctamente")},e.onupgradeneeded=function(e){const n=e.target.result.createObjectStore("crm",{keyPath:"id",autoIncrement:!0});n.createIndex("name","name",{unique:!1}),n.createIndex("email","email",{unique:!0}),n.createIndex("phone","phone",{unique:!1}),n.createIndex("company","company",{unique:!1}),n.createIndex("id","id",{unique:!0}),console.log("Tablas creadas correctamente")}}export function connectDb(){const e=window.indexedDB.open("crm",1);e.onerror=function(){console.error("Error al conectar con la base de datos")},e.onsuccess=function(){dataBase.value=e.result}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiL2RhdGFCYXNlQWN0aW9ucy5qcyJdLCJuYW1lcyI6WyJkYXRhQmFzZSIsImNyZWF0ZURhdGFCYXNlIiwicmVxdWVzdERiIiwid2luZG93IiwiaW5kZXhlZERCIiwib3BlbiIsIm9uZXJyb3IiLCJjb25zb2xlIiwiZXJyb3IiLCJvbnN1Y2Nlc3MiLCJ2YWx1ZSIsInJlc3VsdCIsImxvZyIsIm9udXBncmFkZW5lZWRlZCIsImUiLCJvYmplY3RTdG9yZSIsInRhcmdldCIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImF1dG9JbmNyZW1lbnQiLCJjcmVhdGVJbmRleCIsInVuaXF1ZSIsImNvbm5lY3REYiIsIm9wZW5Db25uZWN0aW9uIl0sIm1hcHBpbmdzIjoiT0FDU0EsYUFBZ0IsK0JBR2xCLFNBQVNDLGlCQUVkLE1BQU1DLEVBQVlDLE9BQU9DLFVBQVVDLEtBQUssTUFBTyxHQUUvQ0gsRUFBVUksUUFBVSxXQUNsQkMsUUFBUUMsTUFBTSxvQ0FHaEJOLEVBQVVPLFVBQVksV0FDcEJULFNBQVNVLE1BQVFSLEVBQVVTLE9BQzNCSixRQUFRSyxJQUFJLHVDQUdkVixFQUFVVyxnQkFBa0IsU0FBVUMsR0FDcEMsTUFFTUMsRUFGS0QsRUFBRUUsT0FBT0wsT0FFR00sa0JBQWtCLE1BQU8sQ0FDOUNDLFFBQVMsS0FDVEMsZUFBZSxJQUlqQkosRUFBWUssWUFBWSxPQUFRLE9BQVEsQ0FBRUMsUUFBUSxJQUNsRE4sRUFBWUssWUFBWSxRQUFTLFFBQVMsQ0FBRUMsUUFBUSxJQUNwRE4sRUFBWUssWUFBWSxRQUFTLFFBQVMsQ0FBRUMsUUFBUSxJQUNwRE4sRUFBWUssWUFBWSxVQUFXLFVBQVcsQ0FBRUMsUUFBUSxJQUN4RE4sRUFBWUssWUFBWSxLQUFNLEtBQU0sQ0FBRUMsUUFBUSxJQUU5Q2QsUUFBUUssSUFBSSx3Q0FLVCxTQUFTVSxZQUNkLE1BQU1DLEVBQWlCcEIsT0FBT0MsVUFBVUMsS0FBSyxNQUFPLEdBRXBEa0IsRUFBZWpCLFFBQVUsV0FDdkJDLFFBQVFDLE1BQU0sMkNBR2hCZSxFQUFlZCxVQUFZLFdBQ3pCVCxTQUFTVSxNQUFRYSxFQUFlWiIsImZpbGUiOiJkYi9kYXRhQmFzZUFjdGlvbnMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBJbXBvcnRhY2lvbmVzICovXG5pbXBvcnQgeyBkYXRhQmFzZSB9IGZyb20gXCIuLi91dGlscy92YXJpYWJsZXMuanNcIjtcblxuLy8gQ3JlYXIgbGEgYmFzZSBkZSBkYXRvc1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZURhdGFCYXNlKCkge1xuICAvLyBBYnJpciBsYSBiYXNlIGRlIGRhdG9zIGNvbiBJbmRleGVkREIuIFNpIG5vIGV4aXN0ZSwgc2UgY3JlYSBjb24gbGEgdmVyc2nDs24gMS5cbiAgY29uc3QgcmVxdWVzdERiID0gd2luZG93LmluZGV4ZWREQi5vcGVuKGBjcm1gLCAxKTtcblxuICByZXF1ZXN0RGIub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zb2xlLmVycm9yKGBFcnJvciBhbCBjcmVhciBsYSBiYXNlIGRlIGRhdG9zYCk7XG4gIH07XG5cbiAgcmVxdWVzdERiLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICBkYXRhQmFzZS52YWx1ZSA9IHJlcXVlc3REYi5yZXN1bHQ7XG4gICAgY29uc29sZS5sb2coYEJhc2UgZGUgZGF0b3MgY3JlYWRhIGNvcnJlY3RhbWVudGVgKTtcbiAgfTtcblxuICByZXF1ZXN0RGIub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGUpIHtcbiAgICBjb25zdCBkYiA9IGUudGFyZ2V0LnJlc3VsdDtcblxuICAgIGNvbnN0IG9iamVjdFN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoYGNybWAsIHtcbiAgICAgIGtleVBhdGg6IGBpZGAsXG4gICAgICBhdXRvSW5jcmVtZW50OiB0cnVlLFxuICAgIH0pO1xuXG4gICAgLy8gQ3JlYXIgbGFzIHRhYmxhcyBzaSBubyBleGlzdGVuXG4gICAgb2JqZWN0U3RvcmUuY3JlYXRlSW5kZXgoYG5hbWVgLCBgbmFtZWAsIHsgdW5pcXVlOiBmYWxzZSB9KTtcbiAgICBvYmplY3RTdG9yZS5jcmVhdGVJbmRleChgZW1haWxgLCBgZW1haWxgLCB7IHVuaXF1ZTogdHJ1ZSB9KTtcbiAgICBvYmplY3RTdG9yZS5jcmVhdGVJbmRleChgcGhvbmVgLCBgcGhvbmVgLCB7IHVuaXF1ZTogZmFsc2UgfSk7XG4gICAgb2JqZWN0U3RvcmUuY3JlYXRlSW5kZXgoYGNvbXBhbnlgLCBgY29tcGFueWAsIHsgdW5pcXVlOiBmYWxzZSB9KTtcbiAgICBvYmplY3RTdG9yZS5jcmVhdGVJbmRleChgaWRgLCBgaWRgLCB7IHVuaXF1ZTogdHJ1ZSB9KTtcblxuICAgIGNvbnNvbGUubG9nKGBUYWJsYXMgY3JlYWRhcyBjb3JyZWN0YW1lbnRlYCk7XG4gIH07XG59XG5cbi8vIENvbmVjdGFyIGxhIGJhc2UgZGUgZGF0b3NcbmV4cG9ydCBmdW5jdGlvbiBjb25uZWN0RGIoKSB7XG4gIGNvbnN0IG9wZW5Db25uZWN0aW9uID0gd2luZG93LmluZGV4ZWREQi5vcGVuKGBjcm1gLCAxKTtcblxuICBvcGVuQ29ubmVjdGlvbi5vbmVycm9yID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGFsIGNvbmVjdGFyIGNvbiBsYSBiYXNlIGRlIGRhdG9zYCk7XG4gIH07XG5cbiAgb3BlbkNvbm5lY3Rpb24ub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIGRhdGFCYXNlLnZhbHVlID0gb3BlbkNvbm5lY3Rpb24ucmVzdWx0O1xuICB9O1xufVxuIl19
