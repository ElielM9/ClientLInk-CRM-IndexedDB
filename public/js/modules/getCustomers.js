import{dataBase}from"../utils/variables.js";import{CUSTOMER_LIST}from"../utils/selectors.js";export function checkDatabaseAndGetCustomers(){window.indexedDB.open("crm",1)&&getCustomers()}export function getCustomers(){const e=window.indexedDB.open("crm",1);e.onerror=function(){console.error("Error al conectar con la base de datos")},e.onsuccess=function(){dataBase.value=e.result;dataBase.value.transaction("crm").objectStore("crm").openCursor().onsuccess=e=>{const t=e.target.result;if(t){const{name:e,email:r,phone:n,company:o,id:s}=t.value;CUSTOMER_LIST.innerHTML+=`\n        <tr>\n          <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200">\n              <p class="text-sm leading-5 font-medium text-gray-700 text-lg  font-bold">${e}</p>\n              <p class="text-sm leading-10 text-gray-700"> ${r} </p>\n          </td>\n          <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200 ">\n              <p class="text-gray-700">${n}</p>\n          </td>\n          <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200  leading-5 text-gray-700">    \n              <p class="text-gray-600">${o}</p>\n          </td>\n          <td class="px-6 py-4 whitespace-no-wrap border-b border-gray-200 text-sm leading-5">\n              <a href="edit.html?id=${s}" class="text-purple-600 hover:text-purple-900 bg-purple-600 mr-5"><svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-pencil"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 20h4l10.5 -10.5a2.828 2.828 0 1 0 -4 -4l-10.5 10.5v4" /><path d="M13.5 6.5l4 4" /></svg></a>\n              <a href="#" data-customer="${s}" class="delete text-red-600 hover:text-red-900"><svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-x"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M18 6l-12 12" /><path d="M6 6l12 12" /></svg></a>\n          </td>\n        </tr>\n`,t.continue()}}}}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvZ2V0Q3VzdG9tZXJzLmpzIl0sIm5hbWVzIjpbImRhdGFCYXNlIiwiQ1VTVE9NRVJfTElTVCIsImNoZWNrRGF0YWJhc2VBbmRHZXRDdXN0b21lcnMiLCJ3aW5kb3ciLCJpbmRleGVkREIiLCJvcGVuIiwiZ2V0Q3VzdG9tZXJzIiwib3BlbkNvbm5lY3Rpb24iLCJvbmVycm9yIiwiY29uc29sZSIsImVycm9yIiwib25zdWNjZXNzIiwidmFsdWUiLCJyZXN1bHQiLCJ0cmFuc2FjdGlvbiIsIm9iamVjdFN0b3JlIiwib3BlbkN1cnNvciIsImUiLCJjdXJzb3IiLCJ0YXJnZXQiLCJuYW1lIiwiZW1haWwiLCJwaG9uZSIsImNvbXBhbnkiLCJpZCIsImlubmVySFRNTCIsImNvbnRpbnVlIl0sIm1hcHBpbmdzIjoiT0FDU0EsYUFBZ0IsK0JBQ2hCQyxrQkFBcUIsK0JBR3ZCLFNBQVNDLCtCQUNWQyxPQUFPQyxVQUFVQyxLQUFLLE1BQU8sSUFDL0JDLHNCQUtHLFNBQVNBLGVBQ2QsTUFBTUMsRUFBaUJKLE9BQU9DLFVBQVVDLEtBQUssTUFBTyxHQUVwREUsRUFBZUMsUUFBVSxXQUN2QkMsUUFBUUMsTUFBTSwyQ0FHaEJILEVBQWVJLFVBQVksV0FDekJYLFNBQVNZLE1BQVFMLEVBQWVNLE9BQ1piLFNBQVNZLE1BQU1FLFlBQVksT0FBT0MsWUFBWSxPQUV0REMsYUFBYUwsVUFBYU0sSUFDcEMsTUFBTUMsRUFBU0QsRUFBRUUsT0FBT04sT0FFeEIsR0FBSUssRUFBUSxDQUNWLE1BQU1FLEtBQUVBLEVBQUlDLE1BQUVBLEVBQUtDLE1BQUVBLEVBQUtDLFFBQUVBLEVBQU9DLEdBQUVBLEdBQU9OLEVBQU9OLE1BRW5EWCxjQUFjd0IsV0FBYSx5TEFHdURMLHFFQUM3QkMsa0pBR3BCQyw2S0FHQUMsK0pBR0hDLDZnQkFDS0EsK2JBS25DTixFQUFPUSIsImZpbGUiOiJtb2R1bGVzL2dldEN1c3RvbWVycy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIEltcG9ydGFjaW9uZXMgKi9cbmltcG9ydCB7IGRhdGFCYXNlIH0gZnJvbSBcIi4uL3V0aWxzL3ZhcmlhYmxlcy5qc1wiO1xuaW1wb3J0IHsgQ1VTVE9NRVJfTElTVCB9IGZyb20gXCIuLi91dGlscy9zZWxlY3RvcnMuanNcIjtcblxuLy8gVmVyaWZpY2Egc2kgZXhpc3RlIGxhIGJhc2UgZGUgZGF0b3MgeSBvYnRpZW5lIGxvcyBjbGllbnRlc1xuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRGF0YWJhc2VBbmRHZXRDdXN0b21lcnMoKSB7XG4gIGlmICh3aW5kb3cuaW5kZXhlZERCLm9wZW4oYGNybWAsIDEpKSB7XG4gICAgZ2V0Q3VzdG9tZXJzKCk7XG4gIH1cbn1cblxuLy8gT2J0ZW5lciBsb3MgY2xpZW50ZXMgZGUgbGEgYmFzZSBkZSBkYXRvc1xuZXhwb3J0IGZ1bmN0aW9uIGdldEN1c3RvbWVycygpIHtcbiAgY29uc3Qgb3BlbkNvbm5lY3Rpb24gPSB3aW5kb3cuaW5kZXhlZERCLm9wZW4oYGNybWAsIDEpO1xuXG4gIG9wZW5Db25uZWN0aW9uLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc29sZS5lcnJvcihgRXJyb3IgYWwgY29uZWN0YXIgY29uIGxhIGJhc2UgZGUgZGF0b3NgKTtcbiAgfTtcblxuICBvcGVuQ29ubmVjdGlvbi5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgZGF0YUJhc2UudmFsdWUgPSBvcGVuQ29ubmVjdGlvbi5yZXN1bHQ7XG4gICAgY29uc3Qgb2JqZWN0U3RvcmUgPSBkYXRhQmFzZS52YWx1ZS50cmFuc2FjdGlvbihgY3JtYCkub2JqZWN0U3RvcmUoYGNybWApO1xuXG4gICAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcigpLm9uc3VjY2VzcyA9IChlKSA9PiB7XG4gICAgICBjb25zdCBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG5cbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgY29uc3QgeyBuYW1lLCBlbWFpbCwgcGhvbmUsIGNvbXBhbnksIGlkIH0gPSBjdXJzb3IudmFsdWU7XG5cbiAgICAgICAgQ1VTVE9NRVJfTElTVC5pbm5lckhUTUwgKz0gYFxuICAgICAgICA8dHI+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNiBweS00IHdoaXRlc3BhY2Utbm8td3JhcCBib3JkZXItYiBib3JkZXItZ3JheS0yMDBcIj5cbiAgICAgICAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXNtIGxlYWRpbmctNSBmb250LW1lZGl1bSB0ZXh0LWdyYXktNzAwIHRleHQtbGcgIGZvbnQtYm9sZFwiPiR7bmFtZX08L3A+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbSBsZWFkaW5nLTEwIHRleHQtZ3JheS03MDBcIj4gJHtlbWFpbH0gPC9wPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNiBweS00IHdoaXRlc3BhY2Utbm8td3JhcCBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgXCI+XG4gICAgICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1ncmF5LTcwMFwiPiR7cGhvbmV9PC9wPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNiBweS00IHdoaXRlc3BhY2Utbm8td3JhcCBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgIGxlYWRpbmctNSB0ZXh0LWdyYXktNzAwXCI+ICAgIFxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtZ3JheS02MDBcIj4ke2NvbXBhbnl9PC9wPlxuICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPHRkIGNsYXNzPVwicHgtNiBweS00IHdoaXRlc3BhY2Utbm8td3JhcCBib3JkZXItYiBib3JkZXItZ3JheS0yMDAgdGV4dC1zbSBsZWFkaW5nLTVcIj5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cImVkaXQuaHRtbD9pZD0ke2lkfVwiIGNsYXNzPVwidGV4dC1wdXJwbGUtNjAwIGhvdmVyOnRleHQtcHVycGxlLTkwMCBiZy1wdXJwbGUtNjAwIG1yLTVcIj48c3ZnICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgIHdpZHRoPVwiMjRcIiAgaGVpZ2h0PVwiMjRcIiAgdmlld0JveD1cIjAgMCAyNCAyNFwiICBmaWxsPVwibm9uZVwiICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiAgc3Ryb2tlLXdpZHRoPVwiMlwiICBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgIGNsYXNzPVwiaWNvbiBpY29uLXRhYmxlciBpY29ucy10YWJsZXItb3V0bGluZSBpY29uLXRhYmxlci1wZW5jaWxcIj48cGF0aCBzdHJva2U9XCJub25lXCIgZD1cIk0wIDBoMjR2MjRIMHpcIiBmaWxsPVwibm9uZVwiLz48cGF0aCBkPVwiTTQgMjBoNGwxMC41IC0xMC41YTIuODI4IDIuODI4IDAgMSAwIC00IC00bC0xMC41IDEwLjV2NFwiIC8+PHBhdGggZD1cIk0xMy41IDYuNWw0IDRcIiAvPjwvc3ZnPjwvYT5cbiAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBkYXRhLWN1c3RvbWVyPVwiJHtpZH1cIiBjbGFzcz1cImRlbGV0ZSB0ZXh0LXJlZC02MDAgaG92ZXI6dGV4dC1yZWQtOTAwXCI+PHN2ZyAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiICB3aWR0aD1cIjI0XCIgIGhlaWdodD1cIjI0XCIgIHZpZXdCb3g9XCIwIDAgMjQgMjRcIiAgZmlsbD1cIm5vbmVcIiAgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgIHN0cm9rZS13aWR0aD1cIjJcIiAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiICBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiICBjbGFzcz1cImljb24gaWNvbi10YWJsZXIgaWNvbnMtdGFibGVyLW91dGxpbmUgaWNvbi10YWJsZXIteFwiPjxwYXRoIHN0cm9rZT1cIm5vbmVcIiBkPVwiTTAgMGgyNHYyNEgwelwiIGZpbGw9XCJub25lXCIvPjxwYXRoIGQ9XCJNMTggNmwtMTIgMTJcIiAvPjxwYXRoIGQ9XCJNNiA2bDEyIDEyXCIgLz48L3N2Zz48L2E+XG4gICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbmA7XG5cbiAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcbn1cbiJdfQ==
